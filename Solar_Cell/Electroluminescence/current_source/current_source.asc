Version 4
SHEET 1 2116 744
WIRE -16 -128 -16 -160
WIRE 144 -128 144 -160
WIRE 320 -80 320 -96
WIRE 1440 -64 1440 -96
WIRE -16 -32 -16 -48
WIRE 144 -32 144 -48
WIRE 1280 -32 1216 -32
WIRE 1376 -32 1344 -32
WIRE 320 32 320 0
WIRE 1440 32 1440 0
WIRE 64 64 -160 64
WIRE 1104 64 880 64
WIRE 256 80 128 80
WIRE 1216 80 1216 -32
WIRE 1216 80 1168 80
WIRE 1264 80 1216 80
WIRE 1376 80 1376 -32
WIRE 1376 80 1344 80
WIRE -160 96 -160 64
WIRE 64 96 16 96
WIRE 880 96 880 64
WIRE 1104 96 1056 96
WIRE 1376 112 1376 80
WIRE 1376 112 1360 112
WIRE 1392 112 1376 112
WIRE 16 160 16 96
WIRE 320 160 320 128
WIRE 320 160 16 160
WIRE 1056 160 1056 96
WIRE 1440 160 1440 128
WIRE 1440 160 1056 160
WIRE 320 176 320 160
WIRE 1360 176 1360 112
WIRE 1440 176 1440 160
WIRE -160 192 -160 176
WIRE 880 192 880 176
WIRE 320 288 320 256
WIRE 1360 288 1360 256
WIRE 1440 288 1440 256
FLAG 96 112 V+
FLAG -16 -160 V+
FLAG 144 -160 V-
FLAG 96 48 V-
FLAG -16 -32 0
FLAG 144 -32 0
FLAG 320 288 0
FLAG 320 -96 V+
FLAG -160 192 0
FLAG 1136 112 V+
FLAG 1136 48 V-
FLAG 1440 288 0
FLAG 1440 -96 V+
FLAG 880 192 0
FLAG 1360 288 0
SYMBOL OpAmps\\OP07 96 144 M180
SYMATTR InstName U1
SYMBOL voltage -16 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL voltage 144 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 0
SYMBOL npn 256 32 R0
SYMATTR InstName Q1
SYMBOL res 304 160 R0
SYMATTR InstName R1
SYMATTR Value 2
SYMBOL res 304 -96 R0
SYMATTR InstName R2
SYMATTR Value 2
SYMBOL voltage -160 80 R0
WINDOW 3 -126 168 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 0 0 100m 200m 10)
SYMATTR InstName V3
SYMBOL nmos 1392 32 R0
WINDOW 0 58 43 Left 2
WINDOW 3 431 -36 Left 2
SYMATTR InstName M1
SYMATTR Value IRF530
SYMBOL OpAmps\\OP07 1136 144 M180
WINDOW 3 -35 143 Left 2
WINDOW 0 608 279 Left 2
SYMATTR InstName U2
SYMBOL res 1424 160 R0
WINDOW 0 48 56 Left 2
WINDOW 3 48 81 Left 2
SYMATTR InstName R3
SYMATTR Value 0.4
SYMBOL voltage 880 80 R0
WINDOW 3 863 -27 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 970 36 Left 2
SYMATTR Value PULSE(0 0.4 0 1n 1n 0.2m 1m)
SYMATTR InstName V6
SYMBOL diode 1424 -64 R0
WINDOW 0 44 7 Left 2
WINDOW 3 384 13 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4007
SYMBOL res 1360 64 R90
WINDOW 0 0 59 VBottom 2
WINDOW 3 32 60 VTop 2
SYMATTR InstName R4
SYMATTR Value 120
SYMBOL diode 1344 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 -53 -487 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 1344 160 R0
WINDOW 0 -48 52 Left 2
WINDOW 3 -66 84 Left 2
SYMATTR InstName R5
SYMATTR Value 220k
TEXT 96 384 Left 2 !.tran 0 1 0
TEXT -72 -368 Left 2 ;constant current drive (BJT)
TEXT 936 -368 Left 2 ;current drive (MOSFET)
RECTANGLE Normal 608 432 -400 -320 2
RECTANGLE Normal 1664 432 656 -320 2
